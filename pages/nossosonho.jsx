import { useState } from "react";
import Head from "next/head";
import Center from "../components/layout/Center";
import Title from "../components/items/Title";
import MenuButton from "../components/items/MenuButton";
import Card from "../components/sets/Card";
import { transparencia } from "../data/transparencia-dados";

import { Swiper, SwiperSlide } from "swiper/react";
import "swiper/css";

export default function NossoSonho() {
  const [docs, setDocs] = useState(0);

  return (
    <>
      <Head>
        <title>Creche Chico Xavier</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Center>
        <header>
          <Title title="Transparência" subtitle="A Casa da Criança Creche Chico Xavier tem também como objetivo, atuar de forma transparente e atender a legislação da Transparência Municipal e atender o Termo de Colaboração Nº001. Desta forma, a instituição vem através desta página, disponibilizar publicamente o acesso as suas prestações de contas." />
          <nav className="jsm-projetos">
            {transparencia.map((menuItem) => (
              <MenuButton key={menuItem.key} link={menuItem.link} title={menuItem.title} span={menuItem.span} image={menuItem.image} vert={menuItem.vert} onCLick={() => setDocs(menuItem.key)} />
            ))}
          </nav>
        </header>
        <Swiper spaceBetween={50} slidesPerView={3} onSlideChange={() => console.log("slide change")} onSwiper={(swiper) => console.log(swiper)}>
          {docs === 0 || 2 
            ? transparencia[docs].documentos.map((projeto) => (
                <SwiperSlide>
                  <Card
                    key={projeto.key}
                    title={projeto.subtitle}
                    span={projeto.span}
                    subtitle={projeto.subtitle}
                    imageTop={projeto.link}
                    cardOnCLick={() => (
                      <>
                        {setOpen(true)}
                        {setModalOpen(projeto.key)}
                      </>
                    )}
                    className="keen-slider__slide"
                  />
                </SwiperSlide>
              ))
            : transparencia[docs].categorias.map((projeto) => (
              <SwiperSlide>
                <Card
                  key={projeto.key}
                  title={projeto.subtitle}
                  span={projeto.span}
                  subtitle={projeto.subtitle}
                  imageTop={projeto.link}
                  cardOnCLick={() => (
                    <>
                      {setOpen(true)}
                      {setModalOpen(projeto.key)}
                    </>
                  )}
                  className="keen-slider__slide"
                />
              </SwiperSlide>
            ))}
        </Swiper>
      </Center>
      <style jsx>{`
        .jsm-projetos {
          display: flex;
          gap: 2rem;
          place-content: center;
        }

        .swiper {
          width: -webkit-fill-available;
        }
      `}</style>

      <style jsx global>{``}</style>
    </>
  );
}
