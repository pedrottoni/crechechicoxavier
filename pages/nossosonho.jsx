import { useState } from "react";
import Head from "next/head";
import { AnimatePresence } from "framer-motion";
import Center from "../components/layout/Center";
import Title from "../components/items/Title";
import MenuButtom from "../components/items/MenuButtom";
import Card from "../components/sets/Card";
import ModalDataSlide from "../components/sets/ModalDataSlide";
import { transparencia } from "../data/transparencia-dados";

import Swiper from "swiper/bundle";

// Import Swiper styles
import "swiper/css/bundle";

export default function Nossosonho() {
	//Modal
	//Define qual modal deve aparecer
	//Ativa ou desativa o modal
	const [modal, setModalOpen] = useState(0);
	const [open, setOpen] = useState(false);

	const [docs, setDocs] = useState(0);

	const swiper = new Swiper(".swiper", {
		// Optional parameters
		direction: "vertical",
		loop: true,

		// If we need pagination
		pagination: {
			el: ".swiper-pagination",
		},

		// Navigation arrows
		navigation: {
			nextEl: ".swiper-button-next",
			prevEl: ".swiper-button-prev",
		},

		// And if we need scrollbar
		scrollbar: {
			el: ".swiper-scrollbar",
		},
	});

	return (
		<>
			<Head>
				<title>Creche Chico Xavier</title>
				<meta name="description" content="Generated by create next app" />
				<link rel="icon" href="/favicon.ico" />
			</Head>

			<Center>
				<header>
					<Title
						title="Transparência"
						subtitle="Há quatro décadas acolhemos crianças e suas famílias, colaborando para a construção de vidas mais felizes."
					/>
				</header>
				<div className="trans-links">
					{transparencia.map((menuItem) => (
						<MenuButtom
							key={menuItem.key}
							link={menuItem.link}
							title={menuItem.title}
							image={menuItem.image}
							vert={menuItem.vert}
							span={menuItem.span}
							onCLick={() => setDocs(menuItem.key)}
						/>
					))}
				</div>
				<div class="swiper">
					<div class="swiper-wrapper">
						<div class="swiper-slide">Slide 1</div>
						<div class="swiper-slide">Slide 2</div>
						<div class="swiper-slide">Slide 3</div>
						<div class="swiper-slide">Slide 4</div>
						<div class="swiper-slide">Slide 5</div>
						<div class="swiper-slide">Slide 6</div>
						<div class="swiper-slide">Slide 7</div>
						<div class="swiper-slide">Slide 8</div>
						<div class="swiper-slide">Slide 9</div>
						<div class="swiper-slide">Slide 10</div>
					</div>
					<div class="swiper-pagination"></div>
				</div>

				<AnimatePresence initial={false}>
					{open && (
						<ModalDataSlide
							key={transparencia[modal].key}
							onClick={() => setOpen(false)}
							title={transparencia[modal].title}
							subtitle={transparencia[modal].subtitle}
							images={transparencia[modal]}
						/>
					)}
				</AnimatePresence>
			</Center>

			<style sjx>{`
			.swiper {
				width: 100%;
				height: 100%;
			}

			.swiper-slide {
				text-align: center;
				font-size: 18px;
				background: #fff;

				/* Center slide text vertically */
				display: -webkit-box;
				display: -ms-flexbox;
				display: -webkit-flex;
				display: flex;
				-webkit-box-pack: center;
				-ms-flex-pack: center;
				-webkit-justify-content: center;
				justify-content: center;
				-webkit-box-align: center;
				-ms-flex-align: center;
				-webkit-align-items: center;
				align-items: center;
			}



			main header {
				display: flex;
				flex-direction: column;
				align-items: center;
			}
			
			main header .title {
				color: #ffc420 !important;
			}

			main nav {
				width: 100vw;
				overflow-y: hidden;
				overflow-x: auto;
				padding: 4rem 2rem 5rem 2rem;
				margin-bottom: -5rem;
				gap: 0;
			}

			main nav .card {
				background: #ffc420;
			}

			.card::after {
				background: #fff;
			}
			
			.keen-slider {
				justify-content: flex-start;
			}

			.images {
				position: relative;
				width: 40rem;
				height: 40rem;
      }
      
      .trans-links {
				display: flex;
				gap: 2rem;
			}

			`}</style>
		</>
	);
}
